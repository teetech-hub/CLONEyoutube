(function(g){var window=this;'use strict';var TD=function(D,O){g.N.call(this,{X:"button",eT:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],B:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},N:[{X:"svg",B:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},N:[{X:"g",B:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},N:[{X:"g",B:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
N:[{X:"path",B:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.C=D;this.listen("click",this.onClick,this);this.updateValue("title",g.F7(D,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.z3(O.uD(),this.element))},vZ0=function(D){g.N.call(this,
{X:"div",
Y:"ytp-miniplayer-ui"});this.T=this.J=!1;this.player=D;this.G(D,"minimized",this.yP);this.G(D,"onStateChange",this.A_a);this.G(D,"documentpictureinpicturechange",this.n5i)},Qzm=function(D,O){g.eX(D.player.getRootNode(),"ytp-player-minimized",O);
D.player.S("web_cairo_modern_miniplayer")&&g.eX(D.player.getRootNode(),"ytp-modern-miniplayer",O);D.player.S("web_cairo_modern_miniplayer_inset_progress_bar")&&g.eX(D.player.getRootNode(),"ytp-miniplayer-alternate-ui",O)},wl0=function(D){var O=D.player.B3().getPlayerSize().width,h=0,V=O;
if(D.player.S("web_cairo_modern_miniplayer")&&!D.T&&!D.player.S("web_cairo_modern_miniplayer_infobar")||D.player.S("web_cairo_modern_miniplayer_inset_progress_bar"))h=12,V=O-24;g.nrd(D.progressBar,h,V,!1);g.VC(D.progressBar)},szv=function(D){g.dX.call(this,D);
this.K=new g.yp(this);this.D=new vZ0(this.player);this.D.hide();g.BR(this.player,this.D.element,4);D.isMinimized()&&(this.load(),g.eX(D.getRootNode(),"ytp-player-minimized",!0))};
g.e(TD,g.N);TD.prototype.onClick=function(){this.C.F1("onExpandMiniplayer")};g.e(vZ0,g.N);g.b=vZ0.prototype;
g.b.show=function(){this.D=new g.VQ(this.a5,null,this);this.D.start();if(!this.J){this.tooltip=new g.n4(this.player,this);g.F(this,this.tooltip);g.BR(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.hH=new g.qA(this.player);g.F(this,this.hH);this.progressBar=new g.hP(this.player,this);g.F(this,this.progressBar);g.BR(this.player,this.progressBar.element,4);this.player.S("web_cairo_modern_miniplayer_infobar")&&g.qZ(this.player.getRootNode(),"ytp-always-showing-infobar");this.K=new g.N({X:"div",
Y:"ytp-miniplayer-scrim"});g.F(this,this.K);this.K.CF(this.element);this.G(this.K.element,"click",this.iP);var D=new g.N({X:"button",eT:["ytp-miniplayer-close-button","ytp-button"],B:{"aria-label":"Close"},N:[g.AA()]});g.F(this,D);D.CF(this.K.element);this.G(D.element,"click",this.U1);D=new TD(this.player,this);g.F(this,D);D.CF(this.K.element);this.j=new g.N({X:"div",Y:"ytp-miniplayer-controls"});g.F(this,this.j);this.j.CF(this.K.element);this.player.S("web_cairo_modern_miniplayer")||this.G(this.j.element,
"click",this.iP);var O=new g.N({X:"div",Y:"ytp-miniplayer-button-container"});g.F(this,O);O.CF(this.j.element);D=new g.N({X:"div",Y:"ytp-miniplayer-play-button-container"});g.F(this,D);D.CF(this.j.element);var h=new g.N({X:"div",Y:"ytp-miniplayer-button-container"});g.F(this,h);h.CF(this.j.element);this.U=new g.x4(this.player,this,!1);g.F(this,this.U);this.U.CF(O.element);O=new g.lb(this.player,this);g.F(this,O);O.CF(D.element);this.nextButton=new g.x4(this.player,this,!0);g.F(this,this.nextButton);
this.nextButton.CF(h.element);this.L=this.player.S("web_cairo_modern_miniplayer")?new g.QC(this.player,this,0):new g.QC(this.player,this);g.F(this,this.L);this.L.CF(this.K.element);this.W=new g.N({X:"div",Y:"ytp-miniplayer-buttons"});g.F(this,this.W);g.BR(this.player,this.W.element,4);D=new g.N({X:"button",eT:["ytp-miniplayer-close-button","ytp-button"],B:{"aria-label":"Close"},N:[g.AA()]});g.F(this,D);D.CF(this.W.element);this.G(D.element,"click",this.U1);D=new g.N({X:"button",eT:["ytp-miniplayer-replay-button",
"ytp-button"],B:{"aria-label":"Close"},N:[g.s1()]});g.F(this,D);D.CF(this.W.element);this.G(D.element,"click",this.K4x);this.player.S("web_cairo_modern_miniplayer")&&(D=new TD(this.player,this),g.F(this,D),D.CF(this.W.element));this.G(this.player,"presentingplayerstatechange",this.YO);this.G(this.player,"appresize",this.PQ);this.G(this.player,"fullscreentoggled",this.PQ);this.player.S("web_cairo_modern_miniplayer")&&this.G(this.player,"onPlaylistUpdate",this.AV);this.PQ();this.J=!0}this.player.getPlayerState()!==
0&&g.N.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.b.hide=function(){this.D&&(this.D.dispose(),this.D=void 0);g.N.prototype.hide.call(this);this.player.isMinimized()||(this.J&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.b.fF=function(){this.D&&(this.D.dispose(),this.D=void 0);g.N.prototype.fF.call(this)};
g.b.U1=function(){this.player.S("kevlar_watch_while_v2")||this.player.stopVideo();this.player.F1("onCloseMiniplayer")};
g.b.K4x=function(){this.player.playVideo()};
g.b.iP=function(D){if(D.target===this.K.element||D.target===this.j.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.b.yP=function(){Qzm(this,this.player.isMinimized());this.player.S("web_cairo_modern_miniplayer")&&this.AV()};
g.b.n5i=function(){Qzm(this,this.player.Ie());this.player.S("web_cairo_modern_miniplayer")&&this.AV();g.eX(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.Ie())};
g.b.bv=function(){this.progressBar.yH();this.L.yH()};
g.b.a5=function(){this.bv();this.D&&this.D.start()};
g.b.YO=function(D){g.l(D.state,32)&&this.tooltip.hide()};
g.b.AV=function(){this.T=(this.player.isMinimized()||this.player.Ie())&&!!this.player.getPlaylist();g.eX(this.player.getRootNode(),"ytp-has-playlist-data",this.T);wl0(this)};
g.b.PQ=function(){wl0(this)};
g.b.A_a=function(D){this.player.isMinimized()&&(D===0?this.hide():this.show())};
g.b.uD=function(){return this.tooltip};
g.b.W9=function(D,O,h,V,k){var C=0,M=0,c=0,S=g.Wt(D);V=O&&(g.JX(O,"ytp-prev-button")||g.JX(O,"ytp-next-button"));if(O){h=g.JX(O,"ytp-play-button");var Y=g.JX(O,"ytp-miniplayer-expand-watch-page-button");V?C=c=12:h?(O=g.wJ(O,this.element),c=O.x,C=O.y-12):Y&&(c=g.JX(O,"ytp-miniplayer-button-top-left"),C=g.wJ(O,this.element),O=g.Wt(O),c?(c=8,C=C.y+40):(c=C.x-S.width+O.width,C=C.y-20))}else c=h-S.width/2,M=25+(k||0);O=this.player.B3().getPlayerSize();k=C+(k||0);S=g.mS(c,0,O.width-S.width-12);k?(D.style.top=
k+"px",D.style.bottom=""):(D.style.top="",D.style.bottom=M+"px");D.style.left=S+"px";this.player.S("web_cairo_modern_miniplayer")&&(M=g.JX(D,"ytp-preview"),D.style.visibility=V&&M&&O.height<225?"hidden":"")};g.e(szv,g.dX);g.b=szv.prototype;g.b.onVideoDataChange=function(){if(this.player.getVideoData()){var D=this.player.getVideoAspectRatio(),O=16/9;D=D>O+.1||D<O-.1;g.eX(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",D)}};
g.b.create=function(){g.dX.prototype.create.call(this);this.K.G(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.b.Fl=function(){return!1};
g.b.load=function(){this.player.hideControls();this.D.show()};
g.b.unload=function(){this.player.showControls();this.D.hide()};g.TP("miniplayer",szv);})(_yt_player);
